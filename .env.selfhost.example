# ============================================
# IGNIDASH SELF-HOSTED CONFIGURATION
# ============================================
# Copy this file to .env.local and fill in your values
#
# Quick setup: npm run selfhost
# Manual setup: See SELF_HOSTING.md

# ============================================
# SELF-HOSTING MODE (Required for Docker)
# ============================================
# Set to "true" when building for self-hosted deployment (Docker)
# This enables Next.js standalone output mode for smaller container images
# Leave unset or use any other value for Vercel/standard deployment
SELF_HOSTED=true

# ============================================
# CONVEX SELF-HOSTED (Required)
# ============================================
# Generate admin key after starting containers:
# docker compose exec convex-backend ./generate_admin_key.sh
#
# This URL is used by the Convex CLI (npx convex deploy, etc.) which runs
# on the host machine, so it should always be 127.0.0.1 â€” even when accessing
# the app from other machines on the network.
CONVEX_SELF_HOSTED_URL=http://127.0.0.1:3210
CONVEX_SELF_HOSTED_ADMIN_KEY=

# Public URLs (used by the browser to reach Convex)
# If accessing from another machine, replace "localhost" with your server's
# IP or hostname (e.g., http://192.168.1.100:3210).
# For reverse proxy with HTTPS, use your public URLs
# (e.g., https://api.mydomain.com and https://actions.mydomain.com).
NEXT_PUBLIC_CONVEX_URL=http://localhost:3210
NEXT_PUBLIC_CONVEX_SITE_URL=http://localhost:3211

# ============================================
# APPLICATION (Required)
# ============================================
# Your application's public URL
# If accessing from another machine, replace "localhost" with your server's
# IP or hostname (e.g., http://192.168.1.100:3000).
SITE_URL=http://localhost:3000

# Secret for encrypting sessions (generate a secure random string)
# Example: openssl rand -base64 32
BETTER_AUTH_SECRET=

# Secret for internal API authentication between services
# Example: openssl rand -base64 32
CONVEX_API_SECRET=

# ============================================
# GOOGLE OAUTH (Optional - for social login)
# ============================================
# Create credentials at https://console.cloud.google.com/apis/credentials
# Set authorized redirect URI to: {SITE_URL}/api/auth/callback/google
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ============================================
# AI FEATURES (Optional - Azure OpenAI)
# ============================================
# Required for AI chat and insights features
# Create an Azure OpenAI resource and deploy models:
# - gpt-5.2-chat (for chat)
# - gpt-5.2 (for insights)
OPENAI_API_KEY=
OPENAI_ENDPOINT=

# ============================================
# EMAIL (Optional - Resend)
# ============================================
# Required for password reset and notification emails
# Get your API key at https://resend.com
RESEND_API_KEY=

# ============================================
# PAYMENTS (Optional - Stripe)
# ============================================
# Required for subscription features
# Get your keys at https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_PRICE_ID=

# ============================================
# ANALYTICS (Optional - PostHog)
# ============================================
# For self-hosted PostHog, use your instance URL
# For PostHog Cloud, use https://us.i.posthog.com or https://eu.i.posthog.com
NEXT_PUBLIC_POSTHOG_KEY=
NEXT_PUBLIC_POSTHOG_HOST=
